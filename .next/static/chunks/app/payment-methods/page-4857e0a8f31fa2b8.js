(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[947],{6257:function(e,t,s){Promise.resolve().then(s.bind(s,311))},311:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var a=s(7437),i=s(2265);let n=[{name:"신한카드",type:"card",icon:"\uD83D\uDCB3",discountRate:.01,cashback:.005,monthlyLimit:5e5,specialCategories:["온라인쇼핑","편의점"]},{name:"삼성카드",type:"card",icon:"\uD83D\uDCB3",discountRate:.015,cashback:.01,monthlyLimit:8e5,specialCategories:["백화점","마트"]},{name:"KB국민카드",type:"card",icon:"\uD83D\uDCB3",discountRate:.01,cashback:.005,monthlyLimit:6e5,specialCategories:["주유소","대중교통"]},{name:"현대카드",type:"card",icon:"\uD83D\uDCB3",discountRate:.02,cashback:.01,monthlyLimit:1e6,specialCategories:["온라인쇼핑","카페"]},{name:"네이버페이",type:"pay",icon:"\uD83D\uDCF1",discountRate:.01,cashback:.01,monthlyLimit:3e5,specialCategories:["온라인쇼핑","배달음식"]},{name:"카카오페이",type:"pay",icon:"\uD83D\uDCF1",discountRate:.01,cashback:.005,monthlyLimit:3e5,specialCategories:["택시","편의점"]},{name:"토스페이",type:"pay",icon:"\uD83D\uDCF1",discountRate:.005,cashback:.02,monthlyLimit:5e5,specialCategories:["송금","투자"]},{name:"페이코",type:"pay",icon:"\uD83D\uDCF1",discountRate:.008,cashback:.01,monthlyLimit:2e5,specialCategories:["온라인쇼핑"]},{name:"신한은행",type:"bank",icon:"\uD83C\uDFE6",discountRate:.003,cashback:.001,monthlyLimit:1e6,specialCategories:["ATM"]},{name:"KB국민은행",type:"bank",icon:"\uD83C\uDFE6",discountRate:.003,cashback:.001,monthlyLimit:1e6,specialCategories:["인터넷뱅킹"]}],c=e=>{let{children:t,variant:s="primary",size:i="md",fullWidth:n=!1,loading:c=!1,className:l="",disabled:r,...o}=e;return(0,a.jsxs)("button",{className:"".concat("inline-flex items-center justify-center rounded-2xl font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-blue-500"}[s]," ").concat({sm:"px-3 py-2 text-sm h-8",md:"px-4 py-2.5 text-sm h-10",lg:"px-6 py-3 text-base h-12"}[i]," ").concat(n?"w-full":""," ").concat(l),disabled:r||c,...o,children:[c&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t]})},l=e=>{let{label:t,error:s,icon:i,fullWidth:n=!1,className:c="",...l}=e,r="\n    block px-4 py-3 rounded-2xl border border-gray-300 \n    placeholder-gray-500 text-gray-900 \n    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\n    disabled:bg-gray-50 disabled:cursor-not-allowed\n    sm:text-sm\n    ".concat(n?"w-full":"","\n    ").concat(s?"border-red-300 focus:ring-red-500":"","\n    ").concat(i?"pl-11":"","\n    ").concat(c,"\n  ").trim().replace(/\s+/g," ");return(0,a.jsxs)("div",{className:n?"w-full":"",children:[t&&(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t}),(0,a.jsxs)("div",{className:"relative",children:[i&&(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)("div",{className:"h-5 w-5 text-gray-400",children:i})}),(0,a.jsx)("input",{className:r,...l})]}),s&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:s})]})},r=e=>{let{children:t,className:s="",padding:i="md",hover:n=!1,onClick:c}=e;return(0,a.jsx)("div",{className:"".concat("bg-white rounded-2xl border border-gray-100 shadow-sm"," ").concat({none:"",sm:"p-4",md:"p-6",lg:"p-8"}[i]," ").concat(n?"hover:shadow-md transition-shadow cursor-pointer":""," ").concat(c?"cursor-pointer":""," ").concat(s),onClick:c,children:t})},o=e=>{let{isOpen:t,onClose:s,title:n,children:c,size:l="md",showCloseButton:r=!0}=e;return((0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,s]),t)?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s}),(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"relative w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[l]," bg-white rounded-2xl shadow-xl transform transition-all"),onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:n}),r&&(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsx)("div",{className:"p-6",children:c})]})})]}):null};function d(){let{paymentMethods:e,addPaymentMethod:t,removePaymentMethod:s,togglePaymentMethod:d,addPopularPaymentMethod:m}=function(){let[e,t]=function(e,t){let[s,a]=(0,i.useState)(()=>{try{let s=window.localStorage.getItem(e);return s?JSON.parse(s):t}catch(s){return console.error('Error reading localStorage key "'.concat(e,'":'),s),t}});return[s,t=>{try{let i=t instanceof Function?t(s):t;a(i),window.localStorage.setItem(e,JSON.stringify(i))}catch(t){console.error('Error setting localStorage key "'.concat(e,'":'),t)}}]}("paymentMethods",[]),s=e=>{let s=new Date,a={...e,id:"pm_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),createdAt:s,updatedAt:s};return t(e=>[...e,a]),a};return{paymentMethods:e,addPaymentMethod:s,updatePaymentMethod:(e,s)=>{t(t=>t.map(t=>t.id===e?{...t,...s,updatedAt:new Date}:t))},removePaymentMethod:e=>{t(t=>t.filter(t=>t.id!==e))},togglePaymentMethod:e=>{t(t=>t.map(t=>t.id===e?{...t,isActive:!t.isActive,updatedAt:new Date}:t))},addPopularPaymentMethod:t=>{let a=n.find(e=>e.name===t);a&&!e.find(e=>e.name===t)&&s({...a,isActive:!0})},getActivePaymentMethods:()=>e.filter(e=>e.isActive),getPaymentMethodsByType:t=>e.filter(e=>e.type===t)}}(),[x,u]=(0,i.useState)(!1),[h,g]=(0,i.useState)(""),[p,y]=(0,i.useState)({name:"",type:"card",discountRate:0,cashback:0,monthlyLimit:1e6,specialCategories:[]}),b=e=>{m(e),u(!1)},v=t=>e.filter(e=>e.type===t),f=e=>(0,a.jsx)(r,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:e.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["할인 ",(100*e.discountRate).toFixed(1),"% • 적립 ",(100*e.cashback).toFixed(1),"%"]}),e.specialCategories.length>0&&(0,a.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:[e.specialCategories.join(", ")," 추가혜택"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c,{size:"sm",variant:e.isActive?"primary":"outline",onClick:()=>d(e.id),children:e.isActive?"활성":"비활성"}),(0,a.jsx)(c,{size:"sm",variant:"ghost",onClick:()=>s(e.id),className:"text-red-600 hover:text-red-700",children:"삭제"})]})]})},e.id);return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 px-4 py-6",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"결제수단 관리"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"등록된 결제수단으로 최적의 할인을 찾아드려요"})]}),(0,a.jsx)(c,{onClick:()=>u(!0),children:"결제수단 추가"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,a.jsxs)(r,{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(e=>e.isActive).length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"활성 결제수단"})]}),(0,a.jsxs)(r,{className:"p-4 text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(e.filter(e=>e.isActive).reduce((e,t)=>e+t.discountRate,0)/Math.max(e.filter(e=>e.isActive).length,1)*100),"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"평균 할인율"})]}),(0,a.jsxs)(r,{className:"p-4 text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(e.filter(e=>e.isActive).reduce((e,t)=>e+t.cashback,0)/Math.max(e.filter(e=>e.isActive).length,1)*100),"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"평균 적립율"})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:["\uD83D\uDCB3 신용카드 (",v("card").length,")"]}),(0,a.jsx)("div",{className:"space-y-3",children:v("card").map(f)})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:["\uD83D\uDCF1 간편결제 (",v("pay").length,")"]}),(0,a.jsx)("div",{className:"space-y-3",children:v("pay").map(f)})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:["\uD83C\uDFE6 은행 (",v("bank").length,")"]}),(0,a.jsx)("div",{className:"space-y-3",children:v("bank").map(f)})]})]}),(0,a.jsx)(o,{isOpen:x,onClose:()=>u(!1),title:"결제수단 추가",size:"lg",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"인기 결제수단"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.map(t=>{let s=e.some(e=>e.name===t.name);return(0,a.jsx)(r,{className:"p-3 cursor-pointer ".concat(s?"opacity-50":"hover:shadow-md"),onClick:()=>!s&&b(t.name),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-xl",children:t.icon}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:t.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:["할인 ",(100*t.discountRate).toFixed(1),"% • 적립 ",(100*t.cashback).toFixed(1),"%"]})]}),s&&(0,a.jsx)("span",{className:"text-xs text-green-600",children:"✓ 추가됨"})]})},t.name)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"직접 추가"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(l,{label:"결제수단 이름",value:p.name,onChange:e=>y(t=>({...t,name:e.target.value})),placeholder:"예: 우리카드",fullWidth:!0}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"타입"}),(0,a.jsxs)("select",{value:p.type,onChange:e=>y(t=>({...t,type:e.target.value})),className:"w-full px-4 py-3 rounded-2xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"card",children:"신용카드"}),(0,a.jsx)("option",{value:"pay",children:"간편결제"}),(0,a.jsx)("option",{value:"bank",children:"은행"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(l,{label:"기본 할인율 (%)",type:"number",min:"0",max:"100",step:"0.1",value:100*p.discountRate,onChange:e=>y(t=>({...t,discountRate:Number(e.target.value)/100})),fullWidth:!0}),(0,a.jsx)(l,{label:"적립율 (%)",type:"number",min:"0",max:"100",step:"0.1",value:100*p.cashback,onChange:e=>y(t=>({...t,cashback:Number(e.target.value)/100})),fullWidth:!0})]}),(0,a.jsx)(l,{label:"월 한도 (원)",type:"number",min:"0",value:p.monthlyLimit,onChange:e=>y(t=>({...t,monthlyLimit:Number(e.target.value)})),fullWidth:!0}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(c,{onClick:()=>{t({...p,icon:"card"===p.type?"\uD83D\uDCB3":"pay"===p.type?"\uD83D\uDCF1":"\uD83C\uDFE6",isActive:!0}),u(!1),y({name:"",type:"card",discountRate:0,cashback:0,monthlyLimit:1e6,specialCategories:[]})},disabled:!p.name,className:"flex-1",children:"추가하기"}),(0,a.jsx)(c,{variant:"outline",onClick:()=>u(!1),className:"flex-1",children:"취소"})]})]})]})]})})]})})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=6257)}),_N_E=e.O()}]);